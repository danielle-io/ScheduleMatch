<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Embedding demo: integration checks</title>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.js"></script>
    <link href="/demo/demo-styles.css" rel="stylesheet">
</head>
<body class="trouble">

    <% var slug = 'calendar-sync'; %>
    <%- include nav.ejs %>
    
    <h1>Calendar Sync</h1>
    <h2>default</h2>
    <div id="cronofy-calendar-sync"></div>
    <h2>demo</h2>
    <div id="cronofy-calendar-sync-two"></div>
    <h2>no token</h2>
    <div id="cronofy-calendar-sync-three"></div>
    <h2>single_profile</h2>
    <div id="cronofy-calendar-sync-four"></div>

    <script src="../build/CronofyElements.dev.js"></script>

    <script>
        console.log('loading elements...');
        const locale = 'en';

        const display = {
            // 0 = don't show the element
            // 1 = show the element
            one: 1,
            two: 1,
            three: 1,
            four: 1
        };

        if (display.one) {
            CronofyElements.CalendarSync({
                element_token: "<%= cal_sync_token %>",
                target_id: 'cronofy-calendar-sync',
                app_domain:"<%= app_domain %>",
                api_domain:"<%= api_domain %>",
                data_center: "us",
                // authorization_url: "http://localhost:8080/auth/cronofy",
                // authorization_url: "/auth/cronofy",
                authorization: {
                    redirect_uri: "http://localhost:8080/",
                    client_id: "<%= client_id %>",
                    scope: "read_only"
                },
                locale: locale,
                // locale: 'keys',
                // translations: {
                //     en: {
                //         core: {
                //             back: 'Override back'
                //         },
                //         calendar_sync: {
                //             calendar_accounts: 'Override calendar_accounts'
                //         }
                //     }
                // },
                tzid: "Etc/UTC",
                demo: false,
                callback: cb => {
                    console.log("callback", cb);
                }
            });
        }
        
        if (display.two) {
            CronofyElements.CalendarSync({
                element_token: "<%= cal_sync_token %>",
                target_id: 'cronofy-calendar-sync-two',
                authorization: {
                    redirect_uri: "http://localhost:8080/",
                    client_id: "<%= client_id %>",
                    scope: "read_only"
                },
                tzid: "Etc/UTC",
                demo: true,
                locale: locale,
                callback: cb => {
                    console.log("callback", cb);
                }
            });
        }
        
        if (display.three) {
            CronofyElements.CalendarSync({
                target_id: 'cronofy-calendar-sync-three',
                authorization: {
                    redirect_uri: "http://localhost:8080/",
                    client_id: "<%= client_id %>",
                    scope: "read_only"
                },
                locale: locale,
                tzid: "Etc/UTC",
                callback: cb => {
                    console.log("callback", cb);
                }
            });
        }
        
        if (display.four) {
            CronofyElements.CalendarSync({
                element_token: "<%= cal_sync_token %>",
                target_id: 'cronofy-calendar-sync-four',
                authorization: {
                    redirect_uri: "http://localhost:8080/",
                    client_id: "<%= client_id %>",
                    scope: "read_only"
                },
                locale: locale,
                single_profile: true,
                tzid: "Etc/UTC",
                //demo: true,
                callback: cb => {
                    console.log("callback", cb);
                }
            });
        }

        console.log('done.');
    </script>

</body>
</html>
