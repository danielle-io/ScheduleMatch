<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Embedding demo: integration checks</title>
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.js"></script>
    <link href="/demo/demo-styles.css" rel="stylesheet">
</head>
<body class="trouble">

    <% var slug = 'rules'; %>
    <%- include nav.ejs %>
    
    <h1>Availability Rules</h1>
    <h2>default</h2>
    <div id="cronofy-availability-rules"></div>
    <h2>default</h2>
    <div id="cronofy-availability-rules-two"></div>

    <script src="../build/CronofyElements.dev.js"></script>

    <script>
        console.log('loading elements...');
        const locale = 'fr';
        const timezone = Intl.DateTimeFormat().resolvedOptions().timeZone;

        const display = {
            // 0 = don't show the element
            // 1 = show the element
            one: 1,
            two: 1
        };

        if (display.one) {
            CronofyElements.AvailabilityRules({
                element_token: "<%= rules_token %>",
                target_id: 'cronofy-availability-rules',
                api_domain:"<%= api_domain %>",
                availability_rule_id: "new_thing",
                // locale: 'keys',
                // translations: {
                //     en: {
                //         availability_rules: {
                //             included_calendars: 'Override included_calendars',
                //             save_new_rules: 'Override save_new_rules'
                //         }
                //     }
                // },
                tzid: timezone,
                // tzid: "Africa/Sao_Tome",
                // tzid: "America/North_Dakota/New_Salem",
                config: {
                    start_time:"08:00",
                    end_time: "18:00",
                    duration: 15,
                    // week_start_day: "monday"
                },
                callback: cb => console.log('rules callback',cb),
                styles: {
                    prefix: "AR1",
                },
                demo: true
            });
        }

        if (display.two) {        
            CronofyElements.AvailabilityRules({
                element_token: "<%= rules_token %>",
                target_id: 'cronofy-availability-rules-two',
                api_domain:"<%= api_domain %>",
                availability_rule_id: "weekly_work_hours",
                tzid: timezone,
                config: {
                    start_time:"12:00",
                    end_time: "15:00",
                    duration: 30
                },
                styles: {
                    prefix: "AR2",
                    colors: {available: "teal"}
                }
            });
        }

        console.log('done.');
    </script>

</body>
</html>
