# Components: brainstorm

There are three components to be built (for now - there is scope for more in the future):

* Availability Rules
* Availability Viewer
* Calendar View

## Rules (do not forget these!)

* Translate all the ~things~ strings!
* Use a linter (Prettier for JS will be fine)
* Use an `.editorconfig` file
* Minimum target of 80% test coverage

## Common issues

There are certain aspects that are common to all components, and these will need to be defined (or at least planned for) before work is begun on the components themselves.

* Authentication
    - how do we generate a secure token for locked-down API access?
    - can we cache the tokens?
    - how do we handle authentication for multiple components on the same page?
* Embedding
    - what is the best way to get our code inside a client's app? Using an `iFrame` would probably be simplest, but is inelegant and requires exact positioning (and width/height) of the frame to avoid layout bugs. Can we use a "web component"?
    - what level of user-setup do we expect? The simpler the better, ideally: "here's three lines of code. Throw those into your application and the component will work".
    - [Web Components](https://www.webcomponents.org/introduction) and [Shadow DOM](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM) in theory allow a "modern" equivalent to sandboxed iFrames. Sadly too modern for most browsers, so would require a polyfill for *most* users. [Polyfill](https://github.com/WebComponents/webcomponentsjs) is \~94kB 
* Distribution: a.k.a. how do we publish the components?
    - Packages on NPM (or lang. equivalent)?
    - CDN version

---

## Availability Rules

* Set timezone
* Set target calendar
* Set rules by time blocks (e.g. "Tues 0900 - 1300")
* Add multiple rules (in list form, *a la* a classic to-do-list app)

---

## Availability Viewer

Divided into "core" and "enhanced" features. Core has basic functionality: it just shows the calendar grid. The enhanced version includes features like the user-selector, and event-duration-selector.

### Core

* Takes inputs:
    - member IDs (the users who's calendars we have access to)
    - auth token
* Calendar (table-view style)
* Navigate between dates?

### Enhanced

* set duration of event (e.g. 30mins/60mins)
* Select users (a.k.a. users' calendars) to pull availability from
* Range-style slider to constrain grid-view times (e.g. only show slots between 9am and 1pm)

### To be resolved

* What happens when an available slot is clicked? 

1. How versatile does the functionality need to be? i.e. just for "interviews"?
2. "send booking form to candidate" - similar to 1., how flexible does this need to be?
3. Do the "candidate" and "role" sections need to be part of the component too? (Or separate components, maybe?)
4. Responsiveness? Assuming there will be a "minimum viable width"...

---

## Calendar View

* compact view (e.g. for a sidebar widget)
* Show events schedules for 1 day, for one user's calendar
* navigate between days?
