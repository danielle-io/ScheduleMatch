import React, { useContext } from "react";
import { css, jsx } from "@emotion/core";

import { ThemeContext } from "./AvailabilityRules";

const ToggleIcon = ({ available }) => {
    const [theme, setTheme] = useContext(ThemeContext);
    return (
        <div className={`${theme.prefix}__status-icon-wrapper`}>
            <svg
                css={css`
                    opacity: 0;
                    display: block;
                    width: 10px;
                    height: 10px;
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    padding: 0px;
                    border-radius: 50%;
                    pointer-events: none;
                `}
                className={`${theme.prefix}__status-icon`}
                viewBox="0 0 7 6"
            >
                <path
                    css={css`
                        transform: rotate(${available ? "0" : "45deg"});
                        transition: transform 0.4s;
                        transform-origin: 50% 50%;
                    `}
                    fill={theme.colors.black}
                    d="M3.5 2.287L5.451.336c.163-.163.455-.135.651.062.197.196.225.488.062.65L4.213 3l1.951 1.951c.163.163.135.455-.062.651-.196.197-.488.225-.65.062L3.5 3.713 1.549 5.664c-.163.163-.455.135-.651-.062-.197-.196-.225-.488-.062-.65L2.787 3 .836 1.049C.673.886.7.594.898.398c.196-.197.488-.225.65-.062L3.5 2.287z"
                />
            </svg>
        </div>
    );
};

export default ToggleIcon;
