import React, { useContext } from "react";
import { css, jsx } from "@emotion/core";

import EmptyColumn from "./EmptyColumn";
import Overlay from "./Overlay";

import { ThemeContext } from "./AvailabilityViewer";

const DayColumn = ({ day, columnCount }) => {
    const [theme, setTheme] = useContext(ThemeContext);
    return (
        <div
            css={css`
                width: ${theme.sizes.columnWidth}px;
                height: 100%;
                flex-grow: 0;
                display: flex;
                flex-direction: column;
                position: relative;
            `}
        >
            {day.slots.length > 0 ? (
                <Overlay
                    columnCount={columnCount}
                    day={day}
                    stylePrefix={theme.prefix}
                />
            ) : (
                <EmptyColumn />
            )}
        </div>
    );
};

export default DayColumn;
