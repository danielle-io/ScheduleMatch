import React, { useContext } from "react";
import { css, jsx } from "@emotion/core";

import Tooltip from "./Tooltip";

import { StatusContext, ThemeContext } from "./AvailabilityViewer";

const HoverTooltip = ({ available, times, topSlot }) => {
    const [status, setStatus] = useContext(StatusContext);
    const [theme, setTheme] = useContext(ThemeContext);

    const classModifier =
        !available && status.slotSelection === "unrestricted"
            ? `${theme.prefix}__tooltip-positioner--unavailable`
            : `${theme.prefix}__tooltip-positioner--${
                  available ? "available" : "unavailable"
              }`;
    return (
        <div
            className={`${theme.prefix}__tooltip-positioner ${classModifier}`}
            css={css`
                width: 100%;
                height: 100%;
                flex-grow: 1;
                position: relative;
                display: flex;
                pointer-events: none;
                user-select: none;
            `}
        >
            <Tooltip time={times} top={topSlot} />
        </div>
    );
};

export default HoverTooltip;
