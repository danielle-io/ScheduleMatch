import React, { useContext } from "react";
import { css, jsx } from "@emotion/core";

import { ThemeContext } from "./AvailabilityViewer";

const Slots = ({ day }) => {
    const [theme, setTheme] = useContext(ThemeContext);
    const slotsMarkup = day.slots.map((slot, i) => (
        <div
            css={css`
                display: block;
                height: ${theme.slotHeightCalc.height}px;
                position: relative;

                ${slot.visiblyAvailable
                    ? `background: ${theme.colors.available};`
                    : ""}
            `}
            className={`${theme.prefix}__slot-background ${
                theme.prefix
            }__slot-background--${
                slot.visiblyAvailable ? "available" : "unavailable"
            }`}
            key={i}
        />
    ));

    return slotsMarkup;
};

export default Slots;
