import * as colors from "../src/js/helpers/colors";

describe("Colors", () => {
    // hexToRGB
    it("converts a hex code into an RGB value", () => {
        expect(colors.hexToRGB("ff00ee")).toEqual([255, 0, 238]);
        expect(colors.hexToRGB("000000")).toEqual([0, 0, 0]);
        expect(colors.hexToRGB("ffffff")).toEqual([255, 255, 255]);
    });

    // normalize
    it("normalizes values to within 0 and 255", () => {
        expect(colors.normalize(-24)).toEqual(0);
        expect(colors.normalize(24)).toEqual(24);
        expect(colors.normalize(260)).toEqual(255);
        expect(colors.normalize(1)).toEqual(1);
        expect(colors.normalize(255)).toEqual(255);
    });

    // shift
    it("shifts a color by a given amount", () => {
        expect(colors.shift("aaaaaa", 10)).toEqual("#b4b4b4");
        expect(colors.shift("#aabbcc", 10)).toEqual("#b4c5d6");
        expect(colors.shift("#aabbcc", 255)).toEqual("#ffffff");
        expect(colors.shift("aabbcc", -255)).toEqual("#000000");
    });

    // getCalendarColors
    it("gets the colors for a calendar when no calendar-colors have been set", () => {
        const themeColors = {
            black: "#4d4d4d",
            greyLight: "#e4ebf2",
            white: "#FFFFFF"
        };
        const calendarColors = {
            ...themeColors,
            calendars: [],
            dark: "#7d9ec0",
            main: "#e4ebf2",
            mid: "#c2d2e1",
            text: "#4d4d4d"
        };
        expect(colors.getCalendarColors(themeColors, 1)).toEqual(
            calendarColors
        );
    });
    // getCalendarColors
    it("gets the colors for a calendar when calendar-colors are provided", () => {
        const themeColors = {
            black: "#4d4d4d",
            calendars: ["#ff0000", "#00ff00"],
            greyLight: "#e4ebf2",
            white: "#ffffff"
        };
        const calendarColors_0 = {
            ...themeColors,
            dark: "#600",
            main: "#ff0000",
            mid: "#c00",
            text: "#ffffff"
        };
        const calendarColors_1 = {
            ...themeColors,
            dark: "#060",
            main: "#00ff00",
            mid: "#0c0",
            text: "#4d4d4d"
        };
        expect(colors.getCalendarColors(themeColors, 0)).toEqual(
            calendarColors_0
        );
        expect(colors.getCalendarColors(themeColors, 1)).toEqual(
            calendarColors_1
        );
    });
});
